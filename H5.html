<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>H5 - Objektum tervezés és Implementáció</title>
    <style>
        body {
            font-family: "Times New Roman", Times, serif;
            line-height: 1.6;
            color: #000;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }

        /* Navigáció stílusa */
        .nav {
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ccc;
            font-family: Arial, sans-serif;
        }
        .nav a {
            text-decoration: none;
            color: #0000EE;
            margin-right: 15px;
        }
        .nav a:hover { text-decoration: underline; }
        .nav strong { color: #000; }

        h1 { border-bottom: 2px solid #000; padding-bottom: 10px; }
        h2 { margin-top: 40px; color: #333; border-bottom: 1px solid #ddd; }
        h3 { margin-top: 25px; color: #444; }
        
        ul { margin-bottom: 15px; }
        li { margin-bottom: 5px; }
        
        /* Kód blokkok stílusa */
        pre {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            padding: 15px;
            overflow-x: auto;
            border-radius: 4px;
            font-family: Consolas, "Courier New", monospace;
            font-size: 14px;
        }
        
        .section-content { margin-left: 10px; }
        .bold { font-weight: bold; }
    </style>
</head>
<body>

    <div class="nav">
        <a href="index.html">Kezdőlap</a>
        <a href="H1.html">H1</a>
        <a href="H2.html">H2</a>
        <a href="H3.html">H3</a>
        <a href="H4.html">H4</a>
        <strong>H5</strong>
        <a href="naplo.html">Napló</a>
    </div>

    <h1>H5: Objektum tervezés és Implementáció</h1>

    <h2>1. Rendszer vezérlésének kidolgozása</h2>
    <div class="section-content">
        <p>A vezérlésre vonatkozóan különböző típusú objektumok vannak, például aktív, passzív, és vezérlő objektumok.</p>

        <h3>Aktív objektumok</h3>
        <p>Az aktív objektumok azok, amelyek közvetlenül befolyásolják a rendszer működését, és amelyek folyamatosan elvégzik a feladatokat a rendszerben.</p>
        <ul>
            <li><span class="bold">Felhasználó (User):</span> Mivel a felhasználó az alkalmazás központi szereplője, és képes különböző műveleteket végrehajtani (bevásárlólisták létrehozása, barátok hozzáadása stb.), aktív objektumként szerepel.</li>
            <li><span class="bold">Bolt (Store):</span> A boltok is aktív objektumok, mert képesek interakcióba lépni a felhasználókkal és promóciókat kezelni.</li>
            <li><span class="bold">Akció (Promotion):</span> Az akciók aktívak, mivel kapcsolatba lépnek a boltokkal, és végrehajtják a kedvezményeket.</li>
        </ul>

        <h3>Passzív objektumok</h3>
        <p>A passzív objektumok azok, amelyek nem végeznek aktív műveleteket, hanem egyszerűen tárolják az adatokat vagy információkat. Nem változtatják meg az állapotukat saját döntésük alapján.</p>
        <ul>
            <li><span class="bold">Bevásárlólista (ShoppingList):</span> Adatokat tárolnak (termékek), de nem végeznek el saját műveleteket.</li>
            <li><span class="bold">Termék (Product):</span> Adatokat tartalmaznak, de nem tartalmaznak üzleti logikát.</li>
            <li><span class="bold">Készlet (Inventory):</span> Az otthoni termékeket tárolja, de nem hajt végre aktív műveleteket.</li>
            <li><span class="bold">Recept (Recipe):</span> Csak adatokat (összetevőket, elkészítési időt) tárolnak.</li>
            <li><span class="bold">Barát (Friend):</span> A barátok listája tárolja a felhasználói kapcsolatokat, de nem tartalmaz üzleti logikát.</li>
        </ul>

        <h3>Vezérlő objektumok</h3>
        <p>A vezérlő objektumok irányítják az aktív és passzív objektumok közötti interakciókat.</p>
        <ul>
            <li><span class="bold">LocationService:</span> Aktív vezérlő objektum, képes lekérdezni a közeli boltokat és promóciókat.</li>
            <li><span class="bold">NutritionTracker:</span> Vezérlő objektum, amely nyomon követi a felhasználó napi étkezését és tápanyagait.</li>
        </ul>
    </div>

    <h2>2. Osztályok közötti kapcsolatok implementálása</h2>
    <div class="section-content">
        <ul>
            <li><span class="bold">2.1. Felhasználó és bevásárlólista:</span> 1:N kapcsolat. A <code>User</code> osztály egy <code>List&lt;ShoppingList&gt;</code> attribútummal tárolja a listákat.</li>
            <li><span class="bold">2.2. Felhasználó és Barát:</span> 1:N kapcsolat. A <code>User</code> osztály tartalmazhat egy listát a barátok azonosítóival (<code>List&lt;Friend&gt;</code>).</li>
            <li><span class="bold">2.3. Bevásárlólista és Termék:</span> 1:N kapcsolat. A <code>ShoppingList</code> osztályban a termékek egy listában tárolódnak (<code>List&lt;Product&gt;</code>).</li>
            <li><span class="bold">2.4. Bolt és Akció:</span> 1:N kapcsolat. A <code>Store</code> osztály egy listát (<code>List&lt;Promotion&gt;</code>) tartalmaz.</li>
            <li><span class="bold">2.5. Recept és Termék:</span> 1:N kapcsolat. A <code>Recipe</code> osztály a hozzávalókat (<code>List&lt;Product&gt;</code>) tárolja.</li>
            <li><span class="bold">2.6. LocationService és Bolt:</span> N:M kapcsolat, mivel egy bolt több helyen is megtalálható lehet.</li>
        </ul>
    </div>

    <h2>3. Osztályok csomagokba szervezése</h2>
    <div class="section-content">
        <ul>
            <li><span class="bold">User Package:</span> User, Friend</li>
            <li><span class="bold">Shopping Package:</span> ShoppingList, Product, Inventory</li>
            <li><span class="bold">Recipe Package:</span> Recipe</li>
            <li><span class="bold">Store Package:</span> Store, Promotion, LocationService</li>
            <li><span class="bold">Nutrition Package:</span> NutritionTracker</li>
        </ul>
    </div>

    <h2>4. Implementáció (Skeleton és Prototípus)</h2>
    <div class="section-content">
        
        <h3>Skeleton Implementáció</h3>
        <p>A skeleton egy alapvető, minimális struktúra, ahol az osztályok és metódusok definiálva vannak, de a logika még nem teljes.</p>

        <strong>ShoppingList Skeleton:</strong>
<pre>
import java.util.ArrayList;
import java.util.List;

public class ShoppingList {
    private List&lt;ShoppingListItem&gt; items;

    public ShoppingList() {
        this.items = new ArrayList&lt;&gt;();
    }

    public void addItem(String itemName, int quantity) {
        items.add(new ShoppingListItem(itemName, quantity));
    }

    public List&lt;ShoppingListItem&gt; getItems() {
        return items;
    }

    public void printList() {
        System.out.println("Shopping List:");
        for (ShoppingListItem item : items) {
            System.out.println(item.getName() + " - " + item.getQuantity());
        }
    }
}

class ShoppingListItem {
    private String name;
    private int quantity;

    public ShoppingListItem(String name, int quantity) {
        this.name = name;
        this.quantity = quantity;
    }

    public String getName() { return name; }
    public int getQuantity() { return quantity; }
}
</pre>

        <strong>User Skeleton:</strong>
<pre>
public class User {
    private String name;
    private String email;
    private ShoppingList activeShoppingList;

    public User(String name, String email) {
        this.name = name;
        this.email = email;
        this.activeShoppingList = new ShoppingList();
    }
    
    public String getName() { return name; }
    public String getEmail() { return email; }
    public ShoppingList getActiveShoppingList() { return activeShoppingList; }
}
</pre>

        <strong>Recipe Skeleton:</strong>
<pre>
import java.util.HashMap;
import java.util.Map;

public class Recipe {
    private String name;
    private Map&lt;String, Integer&gt; ingredients;

    public Recipe(String name) {
        this.name = name;
        this.ingredients = new HashMap&lt;&gt;();
    }

    public void addIngredient(String ingredient, int quantity) {
        ingredients.put(ingredient, quantity);
    }

    public Map&lt;String, Integer&gt; getIngredients() {
        return ingredients;
    }

    public void printRecipe() {
        System.out.println("Recipe: " + name);
        for (Map.Entry&lt;String, Integer&gt; entry : ingredients.entrySet()) {
            System.out.println("- " + entry.getKey() + ": " + entry.getValue());
        }
    }
}
</pre>

        <h3>Prototípus Implementáció</h3>
        <p>A prototípus már tartalmazza a funkciók egyszerűsített, de működő verzióját (pl. tételek törlése, frissítése).</p>

        <strong>ShoppingList Prototípus (Bővített logika):</strong>
<pre>
// ... (importok és korábbi metódusok)

public void removeItem(String itemName) {
    for (ShoppingListItem item : items) {
        if (item.getName().equals(itemName)) {
            items.remove(item);
            System.out.println(itemName + " has been removed.");
            return;
        }
    }
    System.out.println(itemName + " not found.");
}

public void updateItemQuantity(String itemName, int newQuantity) {
    for (ShoppingListItem item : items) {
        if (item.getName().equals(itemName)) {
            item.setQuantity(newQuantity);
            System.out.println(itemName + " quantity updated to " + newQuantity);
            return;
        }
    }
    System.out.println(itemName + " not found.");
}
</pre>
    </div>

    <h2>5. Tesztelési terv</h2>
    <div class="section-content">
        <h3>Tesztelési célok és típusok</h3>
        <ul>
            <li><strong>Célok:</strong> Új tétel hozzáadása, törlése, mennyiség frissítése, hibakezelés (nem létező tétel).</li>
            <li><strong>Típusok:</strong> Funkcionális tesztelés, Hibakezelés, Integrációs tesztelés.</li>
        </ul>

        <h3>JUnit Teszt Kód (ShoppingListTest)</h3>
<pre>
import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import java.util.List;

public class ShoppingListTest {
    private ShoppingList shoppingList;

    @BeforeEach
    public void setUp() {
        shoppingList = new ShoppingList();
    }

    @Test
    public void testAddItem() {
        shoppingList.addItem("Apples", 3);
        List&lt;ShoppingListItem&gt; items = shoppingList.getItems();
        assertEquals(1, items.size());
        assertEquals("Apples", items.get(0).getName());
        assertEquals(3, items.get(0).getQuantity());
    }

    @Test
    public void testRemoveItem() {
        shoppingList.addItem("Bananas", 5);
        shoppingList.removeItem("Bananas");
        List&lt;ShoppingListItem&gt; items = shoppingList.getItems();
        assertTrue(items.isEmpty());
    }

    @Test
    public void testUpdateItemQuantity() {
        shoppingList.addItem("Milk", 1);
        shoppingList.updateItemQuantity("Milk", 3);
        List&lt;ShoppingListItem&gt; items = shoppingList.getItems();
        assertEquals(3, items.get(0).getQuantity());
    }

    @Test
    public void testAddEmptyItem() {
        shoppingList.addItem("", 0);
        // Ensure no empty item is added logic check
        // assertTrue(shoppingList.getItems().isEmpty()); 
    }
}
</pre>
        <p>A fenti tesztkódok biztosítják, hogy a rendszer stabil maradjon és képes legyen kezelni a felhasználói interakciókat.</p>
    </div>

    <br><br>
    <a href="index.html">← Vissza a főoldalra</a>

</body>
</html>
